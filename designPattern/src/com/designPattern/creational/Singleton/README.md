# 单件模式

## 意图

保证一个类仅有一个实例，并提供一个访问它的全局访问点。

## 解析

新学编程，犯的最常见的错误就是喜欢用全局变量，因为访问起来非常方便，而把所有的全局变量换成局部变量进行封装，并且函数嵌套较深时，明显带来的工作量比较大。

也就是说，使用全局变量比较简单、粗暴，有时还很有效。但是一旦工程变得复杂起来时，全局变量随处都可以更改，容易出错并且问题不好排查，带来的副作用就会很明显。也不是不能使用全局变量，而是需要合适的场景。比如表示全局唯一性的东西就可以使用全局变量。

全局变量引入到面向对象语言里，就是单例模式了。因为面向对象讲究个封装，用类吧全局变量一包裹可不就是单例么。

![](../../../../img/singleton.png)

## 总结

单例模式是最简单的一个模式了，需要关心的只有两点：一、构造器私有化；二、线程安全问题。

另外，由于单例模式有简单的访问方式，所以可能会造成滥用。单例有个缺点是对象一旦创建，内存占用是贯穿整个生命周期的。




